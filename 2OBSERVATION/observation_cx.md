# Section 2 Observation（大纲版）

## 核心回答

### 2.1 冲突处理的机理（语义 vs 韵律）
- 核心论点：
  - 模型内部存在“表征解耦 + 决策仲裁”两阶段。
  - 早层韵律可读不等于晚层决策采纳韵律。
- 支撑证据：
  - `Probe`（247 条）：0-14 韵律主导（`D(l)>0`），14-23 融合，23-35 语义主导。
  - `Logit Lens`：23 层起语义 logit margin 持续占优（决策偏语义）。
  - `Activation Patching`：语义 patch 在 0-12 层 `Flip-to-Target≈0.65`，韵律 patch `≈0.14-0.26`；14-15 为可控性边界。
- 待补充验证：
  - Probe 稳健性：K-fold、随机标签、非冲突负对照。
  - Lens 词表敏感性：同义词替换、词频归一、温度校准。
  - 显著性：`D(l)`/margin/Flip/Delta Logit 的 bootstrap CI + 多重比较校正。
- 图表规划：
  - 图2-1 层级主导曲线（`Acc_prosody`、`Acc_semantic`、`D(l)`）。
  - 图2-2 Logit Lens margin + win-rate。
  - 图2-3 Activation Patching（Flip + Delta Logit）。
  - 图2-4 冲突仲裁时序示意图。
- 缺口补齐（Gap Checklist）：
  - 三组对照补齐：Audio-only / Conflict / Consistent 的 Probe/Lens/Patching 结论需对齐呈现（避免“单组现象”被误读为机制）。
  - 14-15 边界因果化：做 position-level patching（仅 patch audio span vs patch 非 audio span/随机 span），验证“可控性下降=信息扩散到全局”。
  - Readability != Causality 量化：跨层计算 `corr(D(l), Margin(l))`、`corr(D(l), Flip(l))`，并显式给出“高可读但低可控”的反例层段。
  - 结论闭环句：Probe 定位 where、Logit Lens 定位 when、Activation Patching 定位 causal control（写成 1-2 句可引用命题）。
  - 异常形态处理：若出现晚层韵律回潮/反复，需用词表敏感性与对照组判定是真机制还是词表/统计噪声。

### 2.2 白盒攻击成功的原因
- 核心论点：
  - 训练 prompt 下 ~80% 成功率依赖三条件同时满足：
    - 早层韵律扰动可注入；
    - 中层信息可存活；
    - 晚层仲裁前未被文本结构性覆盖。
  - 跨 prompt 失效（40/50/20）的根因是中层文本因果主导增强。
- 支撑证据：
  - 现象：不同 prompt 成功率显著下降。
  - 冲突仲裁：26-28 层决策固化；文本在 5-20 层保持强主导。
  - 机制：中层文本覆盖越强，早层音频扰动越难进入晚层仲裁。
- 待补充验证：
  - 统一变量控制（固定扰动强度，仅改变作用层窗）。
  - Early/Mid/Late 分层贡献量化。
  - 失败样本决策路径追踪（Prompt-Audio conflict）。
  - 5-20 层文本抑制/替换干预的因果恢复实验。
- 图表规划：
  - 图2-5 Prompt 类型成功率 vs 中层覆盖强度。
  - 图2-6 分层贡献条形图。
  - 图2-7 失败案例时序图（margin/flip 轨迹）。
  - 图2-8 成功条件链 vs 失效路径闭环图。
- 缺口补齐（Gap Checklist）：
  - 统一变量控制落地：固定扰动强度 + 语义保持约束，仅改变 Early/Mid/Late 作用窗，输出成功率 + Flip/Delta Logit 的分层分解。
  - 中层文本主导可测化：定义 `Text-Dominance Index`（5-20 层文本干预引起的输出变化 vs 音频干预变化），并与各类 prompt 成功率做相关/回归。
  - 失败机制归因：对失败样本做逐层决策路径追踪（margin/flip），把失败分为 Early 注入不足 / Mid wash-out / Late 仲裁反转三类。
  - 因果反证补齐：在 5-20 层对文本通路做抑制/替换/patch 到“中性指令”表征，验证跨 prompt 成功率是否显著回升。
  - 承接 2.1 的必要链：把“晚层语义仲裁优势 + 中层覆盖竞争”写成可检验的必要条件链（避免仅靠直觉解释跨prompt失效）。

### 2.3 声音黑盒处理的条件
- 核心论点：
  - 黑盒可行性取决于“白盒必要条件”可被哪些外部查询能力替代。
  - 可行域由四维约束：输入粒度、反馈类型、查询预算、稳定性。
- 推导基础：
  - 继承 2.2 三条件链（Early 注入、Mid 存活、Late 未覆盖）。
  - 反馈越细、预算越高，越接近白盒优化。
  - 中层文本覆盖是黑盒稳定攻击的首要风险。
- 待补充验证：
  - 稳定性（跨 prompt 模板/seed/重采样）。
  - 查询复杂度（success@k queries）。
  - 迁移效率（surrogate -> target 的 win-rate 与 query-saving）。
  - 仅 top-1 反馈条件下的失效阈值。
- 图表规划：
  - 图2-9 黑盒能力-成功率相图（反馈粒度 × 查询预算）。
  - 图2-10 稳定性雷达图。
  - 图2-11 查询复杂度曲线。
  - 表2-3 白盒到黑盒映射表。

#### 表2-3 白盒发现 -> 黑盒威胁模型映射
| 白盒必要条件 | 黑盒替代观测量 | 最低能力要求 | 失效边界 |
|---|---|---|---|
| 早层可注入扰动 | 波形级输入可控 | 可提交 waveform | 仅文本输入 |
| 中层信息存活 | 多次查询稳定性评估 | 概率/logit 反馈 | 仅 top-1 + 严格限频 |
| 晚层前不被覆盖 | prompt-ensemble 一致提升 | 可切换 prompt 模板 | 固定强指令模板 |
| 定向优化效率 | 迁移先验 + 低方差估计 | 中等查询预算 | 严格预算 + 高噪声反馈 |
- 缺口补齐（Gap Checklist）：
  - 可行域实证：以反馈粒度（top-1 / top-k prob / 概率分布或可替代分数）× 查询预算做网格实验，报告 `success@k` 与方差。
  - 稳定性定量：跨 prompt 模板/seed/重采样噪声统计均值+方差+失败模式分布（验证 2.2 的“中层覆盖风险”在黑盒是否放大）。
  - 迁移效率证据：测 surrogate -> target 的 transfer win-rate 与 query-saving，支撑“查询效率来自迁移先验”。
  - 硬边界/软边界区分：明确哪些能力缺失直接不可行（无 waveform、prompt 不可变、仅 top-1 严格限频），哪些可用预算近似满足（噪声概率反馈）。
  - 最小威胁模型与降级：列出黑盒成立的最小假设集合，并说明假设被削弱时结论如何降级（写入 2.3 末尾或 Discussion/Limitation）。

## 关键要点
- 层级解耦：表征可读性与决策采纳性分离。
- 文本主导：5-20 层是跨 prompt 失效核心区。
- 白盒成功：依赖“早注入-中存活-晚未覆盖”三条件。
- 黑盒边界：由反馈粒度与查询预算共同决定。
- 证据标准：必须从相关性推进到因果性。

## 背景说明
- `representational readability`：某层可被解码出属性，不代表输出依赖该属性。
- `decision causality`：干预该层可系统改变输出，才可称为因果控制。
- 层级对应：Audio Encoder（声学/韵律）-> Speech Adapter（跨模态对齐）-> Transformer（融合与仲裁）。

## 对比分析

### 表2-1 机制工具对比（2.1）
| 方法 | 作用 | 可回答问题 | 局限 |
|---|---|---|---|
| Probe | 表征可读性 | 信息在哪一层可读 | 非因果 |
| Logit Lens | 决策轨迹近似 | 哪层开始偏向语义/韵律 | 词表敏感 |
| Activation Patching | 干预验证 | 哪层对输出有因果控制 | 依赖 patch 方案 |

### 表2-2 Prompt 类型与跨prompt失效（2.2）
| Prompt 类型 | 成功率（观测） | 中层文本覆盖强度 | 含义 |
|---|---|---|---|
| 直接分类 | ~40% | 中-高 | 音频扰动受压制 |
| 描述+分类 | ~50% | 中 | 部分可穿透但不稳定 |
| CoT类 | ~20% | 高 | 多步文本链主导最强 |

## 步骤指南
1. 先做 Probe 稳健性与负对照，锁定 2.1。
2. 再做 Logit Lens 词表敏感性，锁定决策轨迹稳健性。
3. 然后做统一变量控制，量化 2.2 分层贡献。
4. 接着做失败案例机制追踪，完成失效因果链。
5. 最后做黑盒稳定性与查询复杂度，给出 2.3 可行域边界。

## 注意事项
- 不要把“Probe 上韵律占优”直接写成“模型依赖韵律决策”。
- 不要把“白盒训练 prompt 成功率高”外推成“跨prompt鲁棒”。
- `Flip-to-Target` 与 `Delta Logit` 必须同时报告显著性。
- 2.2 强调“必要条件反推”，不是重复结果数字。
- 2.3 必须写清“可行域”与“失效域”。

## 延伸阅读
- 多模态模型的模态竞争与冲突仲裁机制。
- 语音情绪中的语义-韵律层级解耦。
- 机制解释工具：Logit Lens、Activation Patching、Probe。
- 对抗样本跨提示迁移与查询高效黑盒优化。
